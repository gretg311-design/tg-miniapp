<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700;800&display=swap');
        body { background: #000; color: #fff; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; }
        #splash { position: fixed; inset: 0; background: #000; display: flex; justify-content: center; align-items: center; z-index: 1000; }
        .moon { width: 80px; height: 80px; background: radial-gradient(circle at 30% 30%, #fff, #8a2be2 70%); border-radius: 50%; box-shadow: 0 0 40px #8a2be2; animation: p 2s infinite; }
        @keyframes p { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        
        .header { display: flex; justify-content: space-between; padding: 25px 20px; }
        .u-name { color: #b026ff; font-weight: 800; font-size: 19px; }
        .balance { color: #ffa500; font-weight: 700; }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 15px; }
        .btn { background: rgba(30, 0, 60, 0.5); border: 1px solid rgba(138,43,226,0.3); backdrop-filter: blur(10px); border-radius: 15px; height: 90px; display: flex; justify-content: center; align-items: center; font-size: 11px; font-weight: 800; cursor: pointer; text-align: center; }
        .console { border: 1px solid red; color: red; }
        
        .window { display: none; position: fixed; inset: 0; background: #000; z-index: 500; padding: 20px; }
        .active { display: block !important; }
        .close { margin-top: 20px; color: #8a2be2; text-align: center; cursor: pointer; }
    </style>
</head>
<body onload="init()">
    <div id="splash"><div class="moon"></div></div>
    <div class="header">
        <div class="u-name" id="n">...</div>
        <div class="balance">üåô <span id="s">0</span></div>
    </div>
    <div class="grid">
        <div class="btn" onclick="openW('chats')">–ß–ê–¢–´</div>
        <div class="btn" onclick="openW('chars')">–ü–ï–†–°–û–ù–ê–ñ–ò</div>
        <div class="btn" onclick="openW('daily')">–ï–ñ–ï–î–ù–ï–í–ö–ê</div>
        <div class="btn" onclick="openW('tasks')">–ó–ê–î–ê–ù–ò–Ø</div>
        <div class="btn" onclick="openW('shop')">–ú–ê–ì–ê–ó–ò–ù</div>
        <div class="btn" onclick="openW('promo')">–ü–†–û–ú–û–ö–û–î–´</div>
        <div class="btn" onclick="openW('profile')">–ü–†–û–§–ò–õ–¨</div>
        <div class="btn" onclick="openW('settings')">–ù–ê–°–¢–†–û–ô–ö–ò</div>
        <div class="btn" id="adm-b" onclick="openW('admin')">–ê–î–ú–ò–ù–ö–ê</div>
        <div class="btn console" id="own-b" onclick="openW('console')">–ö–û–ù–°–û–õ–¨</div>
    </div>

    <div id="w-console" class="window"><h2>–ö–û–ù–°–û–õ–¨</h2><div class="close" onclick="closeW()">–ù–ê–ó–ê–î</div></div>
    <script>
        const OWNER_ID = "8287041036";
        async function init() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('tgId') || OWNER_ID;
            const res = await fetch(`/api/get-user?tgId=${id}`);
            const data = await res.json();
            setTimeout(() => {
                document.getElementById('splash').style.display = 'none';
                document.getElementById('n').innerText = data.user.name;
                document.getElementById('s').innerText = data.user.shards;
                if(id !== OWNER_ID) document.getElementById('own-b').style.display = 'none';
            }, 1500);
        }
        function openW(id) { document.getElementById('w-'+id).classList.add('active'); }
        function closeW() { document.querySelectorAll('.window').forEach(w => w.classList.remove('active')); }
    </script>
</body>
</html>
