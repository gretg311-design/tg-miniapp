<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–û—Å–∫–æ–ª–∫–∏ –õ—É–Ω—ã</title>
    <style>
        body { background: #0b0e14; color: #e0e0e0; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; }
        .container { padding: 20px; text-align: center; }
        
        /* –ö–∞—Ä—Ç–æ—á–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞ */
        .sub-card { 
            background: linear-gradient(145deg, #1a1f29, #12161d);
            border: 1px solid #333; border-radius: 15px;
            margin: 15px 0; padding: 15px; text-align: left;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .sub-card h3 { color: #00f2ff; margin: 0 0 10px 0; }
        .sub-card p { font-size: 0.9em; color: #aaa; }
        .sub-card .price { font-weight: bold; color: #fff; display: block; margin-top: 10px; }
        
        .btn { 
            background: #00f2ff; color: #000; border: none; padding: 10px 20px;
            border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; margin-top: 10px;
        }
        .btn-daily { background: #ff00ff; color: #fff; margin-bottom: 20px; }
        
        /* –ï–∂–µ–¥–Ω–µ–≤–∫–∞ */
        .daily-box {
            background: rgba(255, 0, 255, 0.1);
            border: 1px dashed #ff00ff; padding: 15px; border-radius: 15px; margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>üåô –û—Å–∫–æ–ª–∫–∏ –õ—É–Ω—ã</h2>
        <div id="balance-info">–ë–∞–ª–∞–Ω—Å: <span id="balance">0</span></div>

        <div class="daily-box">
            <h4>–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±–æ—Ä</h4>
            <p style="font-size: 0.8em;">–ó–∞—Ö–æ–¥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏ –∑–∞–±–∏—Ä–∞–π —Å–≤–æ—é –¥–æ–ª—é –õ—É–Ω—ã. –ù–∞ 7-–π –¥–µ–Ω—å —Ç–µ–±—è –∂–¥–µ—Ç –¥–≤–æ–π–Ω–æ–π –±–æ–Ω—É—Å!</p>
            <button class="btn btn-daily" onclick="getDaily()">–ó–∞–±—Ä–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É</button>
            <div id="streak-info">–°—Ç—Ä–∏–∫: 0 –¥–Ω–µ–π</div>
        </div>

        <h3>–ú–∞–≥–∞–∑–∏–Ω –ü–æ–¥–ø–∏—Å–æ–∫ (30 –¥–Ω–µ–π)</h3>
        
        <div class="sub-card">
            <h3>Premium</h3>
            <p>–î–æ—Å—Ç—É–ø –∫ –±–∞–∑–æ–≤—ã–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—è–º. +50 –û—Å–∫–æ–ª–∫–æ–≤ –õ—É–Ω—ã –µ–∂–µ–¥–Ω–µ–≤–Ω–æ.</p>
            <span class="price">üí∞ 500 –û—Å–∫–æ–ª–∫–æ–≤</span>
            <button class="btn">–ö—É–ø–∏—Ç—å</button>
        </div>

        <div class="sub-card">
            <h3>Ultra</h3>
            <p>–°—Ç–∞—Ç—É—Å –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –≤–ª–∞—Å—Ç–∏. +500 –û—Å–∫–æ–ª–∫–æ–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, x2 –±–æ–Ω—É—Å –∑–∞ —Å—Ç—Ä–∏–∫ –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ñ–æ—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.</p>
            <span class="price">üí∞ 10,000 –û—Å–∫–æ–ª–∫–æ–≤</span>
            <button class="btn">–ö—É–ø–∏—Ç—å</button>
        </div>
    </div>

    <script>
        let tgId = 12345; // –°—é–¥–∞ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π ID –∏–∑ Telegram.WebApp

        async function loadUser() {
            const res = await fetch(`/api/user/${tgId}`);
            const user = await res.json();
            document.getElementById('balance').innerText = user.balance;
            document.getElementById('streak-info').innerText = `–°—Ç—Ä–∏–∫: ${user.streak} –¥–Ω–µ–π`;
        }

        async function getDaily() {
            const res = await fetch('/api/daily', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ tgId })
            });
            const data = await res.json();
            alert(data.message || `–ü–æ–ª—É—á–µ–Ω–æ: ${data.reward} –û—Å–∫–æ–ª–∫–æ–≤!`);
            loadUser();
        }

        loadUser();
    </script>
</body>
</html>
